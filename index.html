<!DOCTYPE html>
<html>
<head>
  <title>2D Black Hole Physics Calculator</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; max-width: 600px; margin: auto; }
    input, select { width: 100%; padding: 8px; margin-top: 5px; margin-bottom: 15px; }
    label { font-weight: bold; }
    button { padding: 10px 20px; }
    .results { background-color: #f2f2f2; padding: 15px; border-radius: 6px; margin-top: 20px; white-space: pre-wrap; font-family: monospace; }
  </style>
</head>
<body>
  <h1>Black Hole Physics Calculator</h1>
  <form id="bhForm">
    <label>Mass of Black Hole (kg):</label>
    <input type="number" id="mass" step="any" required />

    <label>Distance from Black Hole (m):</label>
    <input type="number" id="distance" step="any" required />

    <label>Calculation Time Type:</label>
    <select id="timeType" required>
      <option value="0">Input viewer's time, calculate faller’s time</option>
      <option value="1">Input faller’s time, calculate viewer's time</option>
    </select>

    <label>Viewer's Time (seconds):</label>
    <input type="number" id="viewerTime" step="any" />

    <label>Faller's Time (seconds):</label>
    <input type="number" id="fallerTime" step="any" />

    <label>Length Type:</label>
    <select id="lengthSelection" required>
      <option value="0">Input viewer's length, calculate faller's length</option>
      <option value="1">Input faller's length, calculate viewer's length</option>
    </select>

    <label>Viewer's Length (meters):</label>
    <input type="number" id="viewerLength" step="any" />

    <label>Faller's Length (meters):</label>
    <input type="number" id="fallerLength" step="any" />

    <label>Mass of Object Near Black Hole (kg):</label>
    <input type="number" id="objectMass" step="any" required />

    <label>Height of Person (m):</label>
    <input type="number" id="personHeight" step="any" required />

    <button type="submit">Calculate</button>
  </form>

  <div id="results" class="results"></div>

  <script>
    document.getElementById('bhForm').onsubmit = function(event) {
      event.preventDefault();

      const G = 6.674e-11;
      const c = 3e8;

      const M = parseFloat(document.getElementById('mass').value);
      const r = parseFloat(document.getElementById('distance').value);
      const timeType = parseInt(document.getElementById('timeType').value);
      const viewerTime = parseFloat(document.getElementById('viewerTime').value);
      const fallerTime = parseFloat(document.getElementById('fallerTime').value);
      const lengthSelection = parseInt(document.getElementById('lengthSelection').value);
      const viewerLength = parseFloat(document.getElementById('viewerLength').value);
      const fallerLength = parseFloat(document.getElementById('fallerLength').value);
      const m = parseFloat(document.getElementById('objectMass').value);
      const h = parseFloat(document.getElementById('personHeight').value);

      const r_s = (2 * G * M) / (c ** 2);
      let t_faller, t_viewer;

      if (timeType === 0) {
        if (!viewerTime) {
          alert("Please enter viewer's time.");
          return;
        }
        t_faller = viewerTime * Math.sqrt(1 - r_s / r);
      } else {
        if (!fallerTime) {
          alert("Please enter faller's time.");
          return;
        }
        t_viewer = fallerTime / Math.sqrt(1 - r_s / r);
      }

      let fallerslength, viewerslength;
      if (lengthSelection === 0) {
        if (!viewerLength) {
          alert("Please enter viewer's length.");
          return;
        }
        fallerslength = viewerLength * Math.sqrt(1 - r_s / r);
      } else {
        if (!fallerLength) {
          alert("Please enter faller's length.");
          return;
        }
        viewerslength = fallerLength / Math.sqrt(1 - r_s / r);
      }

      const escapevelocity = Math.sqrt((2 * G * M) / r);
      const gravitationalacceleration = (G * M) / (r ** 2);
      const orbitalvelocity = Math.sqrt((G * M) / r);
      const gravitationalredshift = (1 / Math.sqrt(1 - (r_s / r))) - 1;
      const gravitationalpotentialenergy = -((G * m * M) / r);
      const acceleration = G * M / (r ** 2) * Math.sqrt(1 - (r_s / r));
      const orbitalperiod = 2 * Math.PI * Math.sqrt(r ** 3 / (G * M));
      const tidalforce = (2 * G * M * h) / (r ** 3);

      let output = 'Summary of results:\n';
      output += `Schwarzschild radius: ${r_s.toExponential(5)} m\n`;
      if (t_faller !== undefined) output += `Faller's time: ${t_faller.toFixed(5)} s\n`;
      if (t_viewer !== undefined) output += `Viewer’s time: ${t_viewer.toFixed(5)} s\n`;
      if (fallerslength !== undefined) output += `Faller’s length: ${fallerslength.toFixed(5)} m\n`;
      if (viewerslength !== undefined) output += `Viewer’s length: ${viewerslength.toFixed(5)} m\n`;
      output += `Escape velocity: ${escapevelocity.toExponential(5)} m/s\n`;
      output += `Gravitational acceleration: ${gravitationalacceleration.toExponential(5)} m/s²\n`;
      output += `Orbital velocity: ${orbitalvelocity.toExponential(5)} m/s\n`;
      output += `Gravitational redshift: ${gravitationalredshift.toExponential(5)}\n`;
      output += `Gravitational potential energy: ${gravitationalpotentialenergy.toExponential(5)} J\n`;
      output += `Acceleration required to hover: ${acceleration.toExponential(5)} m/s²\n`;
      output += `Orbital period: ${orbitalperiod.toExponential(5)} s\n`;
      output += `Tidal force: ${tidalforce.toExponential(5)} N\n`;

      document.getElementById('results').innerText = output;
    }
  </script>
</body>
</html>
