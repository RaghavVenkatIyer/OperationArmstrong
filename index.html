<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Black Hole Physics API Interface</title>
<style>
    body {
        background-color: #1a1a2e; /* Deep dark blue/purple */
        color: #e0e0e0; /* Light grey for text */
        font-family: 'Roboto', sans-serif; /* More professional font */
        margin: 0;
        padding: 2rem; /* Use rem for consistent spacing */
        line-height: 1.6;
    }
    h1 {
        text-align: center;
        color: #8e44ad; /* Deep purple accent */
        margin-bottom: 2rem;
        font-size: 2.5rem;
    }
    h2 {
        color: #8e44ad;
        margin-top: 1.5rem;
        margin-bottom: 1rem;
        font-size: 1.8rem;
    }
    form {
        max-width: 600px;
        margin: 0 auto;
        background-color: #2c2c4a; /* Slightly lighter dark blue/purple */
        padding: 2rem;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3); /* More subtle shadow */
    }
    label {
        display: block;
        margin-top: 1rem;
        font-weight: bold;
        color: #e0e0e0;
        font-size: 1.1rem;
    }
    input, select {
        width: calc(100% - 16px); /* Account for padding */
        padding: 0.8rem;
        border: 1px solid #4a4a6a; /* Darker border */
        border-radius: 5px;
        background-color: #1a1a2e;
        color: #e0e0e0;
        margin-top: 0.4rem;
        font-size: 1rem;
    }
    button {
        margin-top: 1.5rem;
        width: 100%;
        padding: 1rem;
        background-color: #8e44ad; /* Deep purple accent */
        border: none;
        border-radius: 5px;
        color: #fff;
        font-weight: bold;
        cursor: pointer;
        font-size: 1.2rem;
        transition: background-color 0.3s ease; /* Smooth transition */
    }
    button:hover {
        background-color: #9b59b6; /* Lighter purple on hover */
    }
    #output {
        margin-top: 2rem;
        background-color: #2c2c4a;
        padding: 2rem;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    }
    table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 1.5rem;
    }
    th, td {
        border: 1px solid #4a4a6a;
        padding: 0.8rem;
        text-align: left;
        font-size: 1rem;
    }
    th {
        background-color: #3a3a5a; /* Slightly darker table header */
        color: #8e44ad;
        font-weight: bold;
    }
    .error {
        color: #e74c3c; /* Clear red for errors */
        font-weight: bold;
        font-size: 1.1rem;
    }
</style>
</head>
<body>

<h1>ðŸŒŒ Black Hole Physics Calculator</h1>

<form id="blackholeForm">
    <label>Mass of Black Hole (M in kg):</label>
    <input type="number" name="M" value="1.989e30" step="any" required>

    <label>Distance from Center (r in m):</label>
    <input type="number" name="r" value="1e7" step="any" required>

    <label>Mode:</label>
    <select name="mode">
        <option value="0">Viewer â†’ Faller (Faller Time)</option>
        <option value="1">Faller â†’ Viewer (Viewer Time)</option>
    </select>

    <label>Time Interval (t in s):</label>
    <input type="number" name="time" value="100" step="any" required>

    <label>Mass of Object (m in kg):</label>
    <input type="number" name="m" value="1000" step="any" required>

    <label>Height Difference (h in m):</label>
    <input type="number" name="h" value="2" step="any" required>

    <button type="submit">Calculate</button>
</form>

<div id="output"></div>

<script>
document.getElementById("blackholeForm").addEventListener("submit", async function(e) {
    e.preventDefault();
    const form = e.target;
    const params = new URLSearchParams(new FormData(form));
    const apiURL = "https://bb8a990c-7b5b-4f2f-a424-0cb93da6f4f9-00-2dvrieiqfxai3.kirk.replit.dev/blackhole?" + params.toString();

    const output = document.getElementById("output");
    output.innerHTML = "<p>Calculating...</p>";

    try {
        const response = await fetch(apiURL);
        const result = await response.json();

        if (result.error) {
            output.innerHTML = `<p class="error">Error: ${result.error}</p>`;
            return;
        }

        const data = result.data;
        let html = "<h2>Results</h2><table><tr><th>Quantity</th><th>Value</th></tr>";
        for (const [key, value] of Object.entries(data)) {
            html += `<tr><td>${key.replace(/_/g, " ")}</td><td>${Number(value).toExponential(6)}</td></tr>`;
        }
        html += "</table>";

        output.innerHTML = html;
    } catch (err) {
        output.innerHTML = `<p class="error">Failed to fetch data. Ensure API is running.</p>`;
    }
});
</script>

</body>
</html>
