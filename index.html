<label>Faller’s Time (s, if mode=1):</label>
<input id="ftime" type="number" step="any" placeholder="e.g. 1200">

<button onclick="
  const M=document.getElementById('mass').value;
  const r=document.getElementById('distance').value;
  const time=document.getElementById('mode').value;
  const viewerstime=document.getElementById('vtime').value;
  const fallerstime=document.getElementById('ftime').value;
  const url='https://dce81952-ff2f-4e10-ba0d-737c2ea0a1fc-00-2fmx6293xzfgw.worf.replit.dev/blackhole?M='+encodeURIComponent(M)+'&r='+encodeURIComponent(r)+'&time='+encodeURIComponent(time)+'&viewerstime='+encodeURIComponent(viewerstime)+'&fallerstime='+encodeURIComponent(fallerstime);
  fetch(url).then(res=>res.text()).then(text=>document.getElementById('output').innerText=text).catch(err=>document.getElementById('output').innerText='Error: '+err.message);
">Calculate</button>
<button onclick="calculate()">Calculate</button>

<pre id="output"></pre>

<script>
async function calculate() {
  const M = parseFloat(document.getElementById('mass').value);
  const r = parseFloat(document.getElementById('distance').value);
  const mode = parseInt(document.getElementById('mode').value);
  const vtime = parseFloat(document.getElementById('vtime').value);
  const ftime = parseFloat(document.getElementById('ftime').value);

  const timeValue = (mode === 0) ? vtime : ftime;

  document.getElementById('output').innerText = "Calculating...";

  try {
    const response = await fetch('https://operationarmstrong-6.onrender.com/calculate', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        mass: M,
        distance: r,
        mode: mode,
        time: timeValue
      })
    });

    const result = await response.json();
    document.getElementById('output').innerText = JSON.stringify(result, null, 2);
  } catch (err) {
    document.getElementById('output').innerText = '❌ Error: ' + err.message;
  }
}
</script>

</body>
</html>
